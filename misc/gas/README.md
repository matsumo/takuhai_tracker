宅トラ用Gmailチェックツール
=====

## このツールについて

Gmailに届いたAmazonからの配送通知メールを定期的にチェックし、宅配トラッカーに自動登録するためのスクリプトです。

本ツールはGoogle Apps Script(GAS)環境で動作させることを想定しています。

## 機能詳細

以下の処理を実行します。
- GmailのInboxを走査し、Amazonからの配送通知メールを検索
- 配送メールから伝票番号を取得し、宅配トラッカーに通知
- 通知済みのメールにスターを付与

## GASコードの管理方法

GASコードを管理する方法として、以下のツールをご利用ください。

[danthareja/node-google-apps-script](https://github.com/danthareja/node-google-apps-script)

## 利用方法

###  1.スクリプトの登録

本ツールは宅配トラッカーIDの情報連携をGoogleスプレッドシートを利用する仕組みとなっています。

1. Googleスプレッドシートを新規で作成します。

[サンプルスプレッドシート](https://docs.google.com/spreadsheets/d/1l2ZDZczCIgAW_f-GlMjMx8tPvMZRJez2YH0djJTsrl0/edit#gid=0)も用意してあります。
スクリプト登録まで実施済みとなっておりますのでこちらもご使用ください。

2. [ツール]から[スクリプトエディタ]を起動します。

3. デフォルトのコードを除去し、[src/gmailchecker.js](src/gmailcheker.js)を貼り付けます。

- "ファイル" -> "保存" を選択し、スクリプトを保存します。
	- 名称は任意のもので問題ありません。

### 2.定期実行設定

- "リソース" -> "現在のプロジェクトのトリガー" を選択します。

- "トリガーが設定されていません。今すぐ追加するにはここをクリックしてくださ
  い。"をクリックします。

- トリガーとしてレコードが追加されたことを確認し、任意の時刻設定を行い"保存"して
  ください。

- 初回登録時には承認が求められるため、"許可を確認"してください。
	- 本ツールの要求範囲は以下となっています。
		- メールの閲覧、送信、削除、管理
		- 外部サービスへの接続

## 削除方法

- [Google Drive](https://drive.google.com)にアクセスし、作成したGASプロジェクト
  を削除してください。


-
